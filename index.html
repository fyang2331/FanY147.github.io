<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>MyBlog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="MyBlog" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">MyBlog</a></h1>
		<h2 class="header__subtitle">READ&LEARNING&LIFE&PHOTOGRAPHY</h2>
	</header>

	<main>
		



	<article>
	
		<h1><a href="/2022/05/01/textmysql/">MySQLé¢˜è§£æ€è·¯</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-01</span><br />
		
		
	</div>

	

	
		<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fix-names-in-a-table/">1667. ä¿®å¤è¡¨ä¸­çš„åå­—</a></p>
<p>SQ Læ¶æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+----------------+---------+</span><br><span class="line">| Column Name    | Type    |</span><br><span class="line">+----------------+---------+</span><br><span class="line">| user_id        | int     |</span><br><span class="line">| name           | varchar |</span><br><span class="line">+----------------+---------+</span><br><span class="line">user_id æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚</span><br><span class="line">è¯¥è¡¨åŒ…å«ç”¨æˆ·çš„ ID å’Œåå­—ã€‚åå­—ä»…ç”±å°å†™å’Œå¤§å†™å­—ç¬¦ç»„æˆã€‚</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢æ¥ä¿®å¤åå­—ï¼Œä½¿å¾—åªæœ‰ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¤§å†™çš„ï¼Œå…¶ä½™éƒ½æ˜¯å°å†™çš„ã€‚</p>
<p>è¿”å›æŒ‰ <code>user_id</code> æ’åºçš„ç»“æœè¡¨ã€‚</p>
<p>æŸ¥è¯¢ç»“æœæ ¼å¼ç¤ºä¾‹å¦‚ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">Users table:</span><br><span class="line">+---------+-------+</span><br><span class="line">| user_id | name  |</span><br><span class="line">+---------+-------+</span><br><span class="line">| 1       | aLice |</span><br><span class="line">| 2       | bOB   |</span><br><span class="line">+---------+-------+</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">+---------+-------+</span><br><span class="line">| user_id | name  |</span><br><span class="line">+---------+-------+</span><br><span class="line">| 1       | Alice |</span><br><span class="line">| 2       | Bob   |</span><br><span class="line">+---------+-------+</span><br></pre></td></tr></table></figure>

<p>é¢˜è§£ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT user_id AS &#x27;user_id&#x27; ,</span><br><span class="line">CONCAT( </span><br><span class="line">    UPPER(LEFT(name,1)),</span><br><span class="line">    LOWER (RIGHT(name,length(name)-1))) AS &#x27;name&#x27; </span><br><span class="line">FROM Users </span><br><span class="line">ORDER BY user_id</span><br></pre></td></tr></table></figure>

<p>è§£é¢˜æ€è·¯&amp;çŸ¥è¯†ç‚¹<br>â— CONCAT ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²<br>â— LEFT ä»å·¦è¾¹æˆªå–å­—ç¬¦<br>â— RIGHT ä»å³è¾¹æˆªå–å­—ç¬¦<br>â— UPPER å˜ä¸ºå¤§å†™<br>â— LOWER å˜ä¸ºå°å†™<br>â— SUBSTRING æˆªå–å­—ç¬¦ä¸²</p>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/group-sold-products-by-the-date/">1484. æŒ‰æ—¥æœŸåˆ†ç»„é”€å”®äº§å“</a></p>
<p>SQLæ¶æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+-------------+---------+</span><br><span class="line">| åˆ—å         | ç±»å‹    |</span><br><span class="line">+-------------+---------+</span><br><span class="line">| sell_date   | date    |</span><br><span class="line">| product     | varchar |</span><br><span class="line">+-------------+---------+</span><br><span class="line">æ­¤è¡¨æ²¡æœ‰ä¸»é”®ï¼Œå®ƒå¯èƒ½åŒ…å«é‡å¤é¡¹ã€‚</span><br><span class="line">æ­¤è¡¨çš„æ¯ä¸€è¡Œéƒ½åŒ…å«äº§å“åç§°å’Œåœ¨å¸‚åœºä¸Šé”€å”®çš„æ—¥æœŸã€‚</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢æ¥æŸ¥æ‰¾æ¯ä¸ªæ—¥æœŸã€é”€å”®çš„ä¸åŒäº§å“çš„æ•°é‡åŠå…¶åç§°ã€‚<br>æ¯ä¸ªæ—¥æœŸçš„é”€å”®äº§å“åç§°åº”æŒ‰è¯å…¸åºæ’åˆ—ã€‚<br>è¿”å›æŒ‰ sell_date æ’åºçš„ç»“æœè¡¨ã€‚<br>æŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">Activities è¡¨ï¼š</span><br><span class="line">+------------+-------------+</span><br><span class="line">| sell_date  | product     |</span><br><span class="line">+------------+-------------+</span><br><span class="line">| 2020-05-30 | Headphone   |</span><br><span class="line">| 2020-06-01 | Pencil      |</span><br><span class="line">| 2020-06-02 | Mask        |</span><br><span class="line">| 2020-05-30 | Basketball  |</span><br><span class="line">| 2020-06-01 | Bible       |</span><br><span class="line">| 2020-06-02 | Mask        |</span><br><span class="line">| 2020-05-30 | T-Shirt     |</span><br><span class="line">+------------+-------------+</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">+------------+----------+------------------------------+</span><br><span class="line">| sell_date  | num_sold | products                     |</span><br><span class="line">+------------+----------+------------------------------+</span><br><span class="line">| 2020-05-30 | 3        | Basketball,Headphone,T-shirt |</span><br><span class="line">| 2020-06-01 | 2        | Bible,Pencil                 |</span><br><span class="line">| 2020-06-02 | 1        | Mask                         |</span><br><span class="line">+------------+----------+------------------------------+</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å¯¹äº2020-05-30ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Headphone, Basketball, T-shirt)ï¼ŒæŒ‰è¯å…¸åºæ’åˆ—ï¼Œå¹¶ç”¨é€—å· &#x27;,&#x27; åˆ†éš”ã€‚</span><br><span class="line">å¯¹äº2020-06-01ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Pencil, Bible)ï¼ŒæŒ‰è¯å…¸åºæ’åˆ—ï¼Œå¹¶ç”¨é€—å·åˆ†éš”ã€‚</span><br><span class="line">å¯¹äº2020-06-02ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Mask)ï¼Œåªéœ€è¿”å›è¯¥ç‰©å“åã€‚</span><br></pre></td></tr></table></figure>

<p>é¢˜è§£ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Write your MySQL query statement below</span><br><span class="line">select</span><br><span class="line">    sell_date,</span><br><span class="line">    count(distinct product) num_sold,</span><br><span class="line">    GROUP_CONCAT(distinct product) products</span><br><span class="line">from</span><br><span class="line">    activities</span><br><span class="line">group by sell_date</span><br><span class="line">order by sell_date;</span><br></pre></td></tr></table></figure>

<p>è§£é¢˜æ€è·¯&amp;çŸ¥è¯†ç‚¹</p>
<p>ä½¿ç”¨  group_concat()  å°†å¤šè¡Œåˆå¹¶æˆä¸€è¡Œ(æ¯”è¾ƒå¸¸ç”¨)</p>
<p>è¯­æ³•ï¼šgroup_concat( [distinct] è¦è¿æ¥çš„å­—æ®µ [order by æ’åºå­—æ®µ asc&#x2F;desc ] [separator â€˜åˆ†éš”ç¬¦â€™] )</p>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/patients-with-a-condition/">1527. æ‚£æŸç§ç–¾ç—…çš„æ‚£è€…</a></p>
<p>SQLæ¶æ„</p>
<p>æ‚£è€…ä¿¡æ¯è¡¨ï¼š <code>Patients</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+--------------+---------+</span><br><span class="line">| Column Name  | Type    |</span><br><span class="line">+--------------+---------+</span><br><span class="line">| patient_id   | int     |</span><br><span class="line">| patient_name | varchar |</span><br><span class="line">| conditions   | varchar |</span><br><span class="line">+--------------+---------+</span><br><span class="line">patient_id ï¼ˆæ‚£è€… IDï¼‰æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚</span><br><span class="line">&#x27;conditions&#x27; ï¼ˆç–¾ç—…ï¼‰åŒ…å« 0 ä¸ªæˆ–ä»¥ä¸Šçš„ç–¾ç—…ä»£ç ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚</span><br><span class="line">è¿™ä¸ªè¡¨åŒ…å«åŒ»é™¢ä¸­æ‚£è€…çš„ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>

<p>å†™ä¸€æ¡ SQL è¯­å¥ï¼ŒæŸ¥è¯¢æ‚£æœ‰ I ç±»ç³–å°¿ç—…çš„æ‚£è€… ID ï¼ˆpatient_idï¼‰ã€æ‚£è€…å§“åï¼ˆpatient_nameï¼‰ä»¥åŠå…¶æ‚£æœ‰çš„æ‰€æœ‰ç–¾ç—…ä»£ç ï¼ˆconditionsï¼‰ã€‚I ç±»ç³–å°¿ç—…çš„ä»£ç æ€»æ˜¯åŒ…å«å‰ç¼€ DIAB1 ã€‚</p>
<p>æŒ‰ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚</p>
<p>æŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ç¤ºä¾‹æ‰€ç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">Patientsè¡¨ï¼š</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| patient_id | patient_name | conditions   |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| 1          | Daniel      Â | YFEV COUGH   |</span><br><span class="line">| 2    Â      | Alice        |            Â  |</span><br><span class="line">| 3    Â      | Bob         Â | DIAB100 MYOPÂ |</span><br><span class="line">| 4 Â         | George      Â | ACNE DIAB100Â |</span><br><span class="line">| 5 Â         | Alain       Â | DIAB201     Â |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| patient_id | patient_name | conditions   |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| 3    Â      | Bob         Â | DIAB100 MYOPÂ |</span><br><span class="line">| 4 Â         | George   Â    | ACNE DIAB100Â | </span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">è§£é‡Šï¼šBob å’Œ George éƒ½æ‚£æœ‰ä»£ç ä»¥ DIAB1 å¼€å¤´çš„ç–¾ç—…ã€‚</span><br></pre></td></tr></table></figure>

<p>é¢˜è§£ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">    * </span><br><span class="line">from </span><br><span class="line">    patients </span><br><span class="line">where </span><br><span class="line">    conditions rlike &#x27;^DIAB1|.*\\sDIAB1&#x27;;</span><br></pre></td></tr></table></figure>

<p>é¢˜è§£æ€è·¯&amp;çŸ¥è¯†ç‚¹</p>
<ul>
<li><p>ç³–å°¿ç—…ä½äºç¬¬ä¸€ä¸ªæ—¶: ä»¥DIAB1å¼€å§‹ï¼Œå³</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONDITIONS REGEXP &#x27;^DIAB1</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç³–å°¿ç—…ä¸æ˜¯ç¬¬ä¸€ä¸ªæ—¶: å«æœ‰ ç©ºæ ¼DIAB1ï¼Œå³</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONDITIONS REGEXP &#x27;\\sDIAB1ï¼Œå…¶ä¸­&#x27;\s&#x27;è¡¨ç¤ºç©ºæ ¼.</span><br></pre></td></tr></table></figure>
</li>
<li><p>.ä»£è¡¨ä»»æ„å­—ç¬¦ï¼Œ*ä»£è¡¨æ¬¡æ•°ä¸é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯å‰é¢å‡ºç°ä»»æ„ä¸ªå­—ç¬¦ï¼Œç„¶å\sä»£è¡¨ç©ºæ ¼ï¼Œè¿èµ·æ¥å°±æ˜¯å‰é¢å‡ºç°ä»»æ„ä¸ªå­—ç¬¦ï¼Œç„¶åå†æ¥ä¸€ä¸ªç©ºæ ¼ï¼Œæ¥ç€å°±æ˜¯DIAB1ï¼Œæ»¡è¶³è¿™ä¸ªæ¡ä»¶</p>
</li>
</ul>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/30/My-New-Post/">My New Post</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-30</span><br />
		
		
	</div>

	

	
		
	

	

</article>






	<span class="different-posts">ğŸ“• end of posts ğŸ“•</span>


	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 Fresh Y | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
